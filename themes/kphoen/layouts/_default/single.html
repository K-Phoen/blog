{{ define "main" }}
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        <h1 itemprop="headline">
            {{ if eq .Section "til" }}<abbr class="label radius til" title="Today I Learned">TIL</abbr>{{ end }}
            <a href="{{ .Permalink }}">{{ .Title }}</a>
        </h1>
        <span class="post-meta">
            <meta itemprop="inLanguage" content="{{ $.Site.LanguageCode | default "en" }}" />
            <time pubdate="pubdate" datetime="{% page.date|date_to_xmlschema %}">
                <meta itemprop="datePublished" content="{% page.date|date_to_xmlschema %}" />
                {{ .Date.Format "2 January 2006" }}
            </time>
            â€”
            <span class="reading-time" title="Estimated reading time">
                {{ if le .ReadingTime 1 }}
                    ~ 1 minute
                {{ else }}
                    ~{{ .ReadingTime }} minutes
                {{ end }}
            </span>
        </span>
    </header>

    {{ if isset .Params "tldr" }}
    <section class="shortcuts">
        <p><span class="label radius">Jump to:</span> <a href="#tl-dr">TL;DR</a></p>
    </section>
    {{ end }}

    <section class="post-body" itemprop="articleBody">
        {{ .Content }}
    </section>

    {{ with .Params.Tldr }}
    <section class="post-tl-dr">
        <h2 id="tl-dr">TL;DR</h2>
        {{ . | markdownify }}
    </section>
    {{ end }}

    <section class="comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES * * */
            var disqus_shortname = 'k-phoen';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </section>
</article>
{{ end }}
